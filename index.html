<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clash Royale All Cards</title>
    <meta name="description" content="Browse all cards from Clash Royale">
    <!-- Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom loader animation */
        .loader {
            border: 6px solid #4a5568; /* dark-gray */
            border-top-color: #f6e05e; /* yellow-300 */
            border-radius: 50%;
            width: 60px;
            height: 60px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
     <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body class="bg-gray-900">

    <main class="min-h-screen w-full bg-[url('https://supercell.com/images/180104_clashroyale_bg_pattern.png')] bg-cover bg-center text-white">
        <div class="min-h-screen w-full bg-black/70 backdrop-blur-sm">
            <div class="container mx-auto px-4 py-8">
                <header class="text-center mb-10">
                    <h1 class="text-4xl md:text-5xl font-bold text-yellow-300 drop-shadow-lg">Clash Royale - Saare Cards</h1>
                    <p class="text-gray-300 mt-2">Game ke har card ki jaankari.</p>
                </header>

                <!-- Loader container -->
                <div id="loader-container" class="text-center">
                    <div class="loader mx-auto"></div>
                    <p class="mt-4 text-lg">Cards load ho rahe hain...</p>
                </div>

                <!-- Error container -->
                <div id="error-container" class="hidden text-center bg-red-500/80 p-4 rounded-lg max-w-md mx-auto">
                    <p class="font-bold">Ek Error Aayi</p>
                    <p id="error-message"></p>
                </div>

                <!-- Cards grid container -->
                <div id="cards-grid" class="hidden grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 md:gap-6">
                    <!-- Cards will be dynamically inserted here by JavaScript -->
                </div>
            </div>
        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- ZAROORI: Apna Supercell API Key yahan daalein ---
            // WARNING: Yeh key public ho jayegi. Isey surakshit rakhein.
            const apiKey = 'AAPKA_SUPERCELL_API_KEY_YAHAN_DAALEIN';

            const loaderContainer = document.getElementById('loader-container');
            const errorContainer = document.getElementById('error-container');
            const errorMessage = document.getElementById('error-message');
            const cardsGrid = document.getElementById('cards-grid');

            if (apiKey === 'AAPKA_SUPERCELL_API_KEY_YAHAN_DAALEIN') {
                 loaderContainer.classList.add('hidden');
                 errorMessage.textContent = 'Kripya script mein apna Supercell API key daalein.';
                 errorContainer.classList.remove('hidden');
                 return;
            }

            // --- Function to create a single card's HTML ---
            function createCardHTML(card) {
                // API se 'elixirCost' aata hai, hum use 'elixir' ke roop mein istemal karenge.
                const elixir = card.elixirCost; 
                const iconUrl = card.iconUrls?.medium; // medium icon URL ka istemal karein

                if (!iconUrl) return ''; // Agar icon nahi hai to skip karein

                const rarityClasses = {
                    'Common': 'border-gray-400 bg-gray-800/70',
                    'Rare': 'border-yellow-500 bg-yellow-900/40',
                    'Epic': 'border-purple-500 bg-purple-900/40',
                    'Legendary': 'border-sky-400 bg-sky-900/40',
                    'Champion': 'border-orange-400 bg-orange-900/40'
                };
                const rarityClass = rarityClasses[card.rarity] || 'border-gray-600';

                return `
                    <div class="p-2 border-4 rounded-lg transition-all duration-300 hover:scale-105 hover:shadow-2xl ${rarityClass}">
                        <div class="relative">
                            <img src="${iconUrl}" alt="${card.name}" class="w-full h-auto rounded-md" />
                            <div class="absolute -top-3 -left-3 bg-purple-600 text-white text-sm font-bold w-8 h-8 flex items-center justify-center rounded-full border-2 border-purple-800 shadow-lg">
                                ${elixir}
                            </div>
                        </div>
                        <h3 class="text-center text-sm md:text-base font-semibold mt-2 truncate">${card.name}</h3>
                    </div>
                `;
            }

            // --- Main function to fetch and render cards ---
            async function fetchAndRenderCards() {
                // Browser se direct API call karne par CORS error aa sakta hai,
                // isliye hum ek public proxy ka istemal kar rahe hain.
                const apiUrl = 'https://proxy.royaleapi.dev/v1/cards';

                try {
                    const response = await fetch(apiUrl, {
                        headers: {
                            'Authorization': `Bearer ${apiKey}`
                        }
                    });
                    
                    if (!response.ok) {
                        const errorData = await response.json();
                        throw new Error(errorData.reason || 'Invalid API Key or server error.');
                    }
                    
                    const data = await response.json();

                    loaderContainer.classList.add('hidden');
                    cardsGrid.classList.remove('hidden');
                    
                    // Supercell API 'items' array return karta hai.
                    cardsGrid.innerHTML = data.items.map(createCardHTML).join('');

                } catch (err) {
                    loaderContainer.classList.add('hidden');
                    errorMessage.textContent = err.message;
                    errorContainer.classList.remove('hidden');
                }
            }

            fetchAndRenderCards();
        });
    </script>
</body>
</html>

